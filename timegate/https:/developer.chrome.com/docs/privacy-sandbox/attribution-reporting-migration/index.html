

<!doctype html>
    <html lang="en-US" id="template-archives" class="base">
        <head>
        
        <script defer data-domain="context.center" src="https://plausible.io/js/plausible.js"></script>
        <link rel="alternate" type="application/rss+xml" title="Context Center RSS" href="https://context.center/rss/" />
    	<link rel="alternate" type="application/atom+xml" title="Context Center Feed" href="https://context.center/feed/" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>[Obsolete] Migration guide (Chrome 92): Conversion Measurement API to Attribution Reporting API - Chrome Developers</title>
        <link rel="original" http-equiv href="https://developer.chrome.com/docs/privacy-sandbox/attribution-reporting-migration/" />
        
            
                <!-- <link rel="stylesheet" href="https://context.center/assets/css/template-archives.css?v=2098024793" /> -->
                <link rel="stylesheet" href="https://context.center/assets/css/template-archives.css?v=2098024793" id=""></link>

            
        
        
            <link rel="canonical" href="https://developer.chrome.com/docs/privacy-sandbox/attribution-reporting-migration/" />
            

            <meta property="og:title"
                content="[Obsolete] Migration guide (Chrome 92): Conversion Measurement API to Attribution Reporting API - Chrome Developers">

            <meta property="og:description"
                content="Build the next generation of web experiences.">


            <meta property="og:url"
                content="https://developer.chrome.com/docs/privacy-sandbox/attribution-reporting-migration/" />

            <meta property="og:site_name" content="Context Center" />

            <meta property="og:locale" content="en_US" />

            <meta name="twitter:site" content="@chronotope" />

            <meta name="twitter:description" content="Build the next generation of web experiences." />

            <!-- I prefer the summary_large_image Twitter card for posts. -->
            <meta name="twitter:card" content="summary_large_image" />
            <!-- You, you're the creator. -->
            <meta name="twitter:creator" content="@chronotope" />
            <!-- This property is for the article title, not site title. -->
            <meta name="twitter:title" content="[Obsolete] Migration guide (Chrome 92): Conversion Measurement API to Attribution Reporting API - Chrome Developers" />

            

            <meta property="og:type" content="website" />

            <script type="application/ld+json">
                {
                    "@context": "http://schema.org",
                    "@type": "WebPage",
                    "url": "https://developer.chrome.com/docs/privacy-sandbox/attribution-reporting-migration/",
                    "headline": "[Obsolete] Migration guide (Chrome 92): Conversion Measurement API to Attribution Reporting API - Chrome Developers",
                    "about": "Build the next generation of web experiences.",

                    "image": [
                        
                        
                    ],
                    "isAccessibleForFree": "True",
                    "isPartOf": {
                        "@type": ["CreativeWork", "Product"],
                        "name": "Fight With Tools",
                        "productID": "fightwithtools.dev"
                    },
                    "license": "http://creativecommons.org/licenses/by-sa/4.0/",
                    "archivedAt": "https://context.center/timegate/https:/developer.chrome.com/docs/privacy-sandbox/attribution-reporting-migration/",
                    "sameAs": "https://developer.chrome.com/docs/privacy-sandbox/attribution-reporting-migration/",
                }
            </script>


        
        
        </head>
        <body >
            <div class="wrapper">
                <header>
                    <div class="left">
                        <h1>Archived: [Obsolete] Migration guide (Chrome 92): Conversion Measurement API to Attribution Reporting API - Chrome Developers</h1>
                        <p>This is a simplified archive of the page at <a href="https://developer.chrome.com/docs/privacy-sandbox/attribution-reporting-migration/" target="_blank">https://developer.chrome.com/docs/privacy-sandbox/attribution-reporting-migration/</a></p>
                    </div>

                            <div id="share-embed">
                                <span>Use this page embed on your own site:</span>
                                <textarea id="html-embed" name="story" rows="8" cols="40">
                                    <script>window.contexterSetup=window.contexterSetup||function(){window.contexterSetupComplete=!0;class ContexterLink extends HTMLAnchorElement{constructor(){super()}connectedCallback(){this.setAttribute("target","_blank")}}customElements.define("contexter-link",ContexterLink,{extends:"a"}),customElements.define("contexter-inner",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className="contexter-box__inner"}}),customElements.define("contexter-thumbnail",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className="contexter-box__thumbnail"}}),customElements.define("contexter-byline",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className="contexter-box__byline"}}),customElements.define("contexter-keywordset",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className="contexter-box__keywordset"}}),customElements.define("contexter-linkset",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className="contexter-box__linkset"}}),customElements.define("contexter-meta",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className="contexter-box__meta"}}),customElements.define("contexter-summary",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className="p-summary entry-summary"}}),customElements.define("contexter-box-head",class extends HTMLElement{constructor(){super()}connectedCallback(){this.className="contexter-box__head"}}),customElements.define("contexter-box-inner",class extends HTMLElement{constructor(){super()}connectedCallback(){}});class ContexterBox extends HTMLElement{constructor(){super(),this.first=!0,this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){if(this.first){this.first=!1;var style=document.createElement("style"),lightDomStyle=(style.innerHTML=`:host {--background: #f5f6f7;--border: darkblue;--blue: #0000ee;--font-color: black;--inner-border: black;font-family: Franklin,Arial,Helvetica,sans-serif;font-size: 14px;background: var(--background);width: 600px;color: var(--font-color);min-height: 90px;display: block;padding: 8px;border: 1px solid var(--border);cursor: pointer;box-sizing: border-box;margin: 6px;contain: content;margin: 6px auto;}// can only select top-level nodes with slotted::slotted(*) {max-width: 100%;display:block;}::slotted([slot=thumbnail]) {max-width: 100%;display:block;}::slotted([slot=header]) {width: 100%;font-size: 1.25rem;font-weight: bold;display:block;margin-bottom: 6px;}::slotted([slot=author]) {max-width: 50%;font-size: 12px;display:inline-block;float: left;}::slotted([slot=time]) {max-width: 50%;font-size: 12px;display:inline-block;float: right;}::slotted([slot=summary]) {width: 100%;margin-top: 6px;padding: 10px 2px;border-top: 1px solid var(--inner-border);font-size: 15px;display:inline-block;margin-bottom: 6px;}contexter-meta {height: auto;margin-bottom: 4px;width: 100%;display: grid;position: relative;min-height: 16px;grid-template-columns: repeat(2, 1fr);}::slotted([slot=keywords]) {width: 80%;padding: 2px 4px;border-top: 1px solid var(--inner-border);font-size: 11px;display: block;float: right;font-style: italic;text-align: right;grid-column: 2/2;grid-row: 1;align-self: end;justify-self: end;}::slotted([slot=keywords]):empty {border-top: 0px solid var(--inner-border);}::slotted([slot=archive-link]) {font-size: 1em;display: inline;}::slotted([slot=archive-link])::after {content: "|";display: inline;color: var(--font-color);text-decoration: none;margin: 0 .5em;}::slotted([slot=read-link]) {font-size: 1em;display: inline;}contexter-linkset {width: 80%;padding: 2px 4px;font-size: 13px;float: left;font-weight: bold;grid-row: 1;grid-column: 1/2;align-self: end;justify-self: start;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {:host {width: 310px;}}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){:host {--background: #354150;--border: #1f2b37;--blue: #55b0ff;--font-color: #ffffff;--inner-border: #787a7c;background: var(--background);border: 1px solid var(--border)}}`,document.createElement("style"));lightDomStyle.innerHTML=`contexter-box {contain: content;}contexter-box .read-link {font-weight: bold;}contexter-box a {color: #0000ee;}contexter-box img {width: 100%;border: 0;padding: 0;margin: 0;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {...}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){contexter-box a {color: #55b0ff;}}`,this.appendChild(lightDomStyle),this.shadow.appendChild(style);const innerContainer=document.createElement("contexter-box-inner"),innerSlotThumbnail=(this.shadow.appendChild(innerContainer),document.createElement("slot")),innerSlotHeader=(innerSlotThumbnail.name="thumbnail",innerContainer.appendChild(innerSlotThumbnail),document.createElement("slot")),innerSlotAuthor=(innerSlotHeader.name="header",innerContainer.appendChild(innerSlotHeader),document.createElement("slot")),innerSlotTime=(innerSlotAuthor.name="author",innerContainer.appendChild(innerSlotAuthor),document.createElement("slot")),innerSlotSummary=(innerSlotTime.name="time",innerContainer.appendChild(innerSlotTime),document.createElement("slot")),metaContainer=(innerSlotSummary.name="summary",innerContainer.appendChild(innerSlotSummary),document.createElement("contexter-meta")),innerSlotInfo=(innerContainer.appendChild(metaContainer),document.createElement("slot")),linkContainer=(innerSlotInfo.name="keywords",metaContainer.appendChild(innerSlotInfo),document.createElement("contexter-linkset")),innerSlotArchiveLink=(metaContainer.appendChild(linkContainer),document.createElement("slot")),innerSlotReadLink=(innerSlotArchiveLink.name="archive-link",linkContainer.appendChild(innerSlotArchiveLink),document.createElement("slot"));innerSlotReadLink.name="read-link",linkContainer.appendChild(innerSlotReadLink),this.className="contexter-box",this.onclick=e=>{if(!e.target.className.includes("read-link")&&!e.target.className.includes("title-link")){const mainLinks=this.querySelectorAll("a.main-link");mainLinks[0].click()}}}}}customElements.define("contexter-box",ContexterBox)},window.contexterSetupComplete||window.contexterSetup();</script><contexter-box class="link-card h-entry hentry" itemscope="" itemtype="https://schema.org/CreativeWork"><contexter-thumbnail class="thumbnail" slot="thumbnail"></contexter-thumbnail><contexter-box-head slot="header" class="p-name entry-title" itemprop="headline"><contexter-box-head slot="header" class="p-name entry-title" itemprop="headline"><a is="contexter-link" href="https://developer.chrome.com/docs/privacy-sandbox/attribution-reporting-migration/" itemprop="url">[Obsolete] Migration guide (Chrome 92): Conversion Measurement API to Attribution Reporting API - Chrome Developers</a></contexter-box-head></contexter-box-head><time class="dt-published published" slot="time" itemprop="datePublished" datetime="2022-04-05T17:38:42.511Z">3/5/2022</time><contexter-summary class="p-summary entry-summary" itemprop="abstract" slot="summary"><p>Build the next generation of web experiences.</p></contexter-summary><contexter-keywordset itemprop="keywords" slot="keywords"></contexter-keywordset><a is="contexter-link" href="https://developer.chrome.com/docs/privacy-sandbox/attribution-reporting-migration/" class="read-link main-link" itemprop="sameAs" slot="read-link">Read</a><a href="https://context.center/timegate/https://developer.chrome.com/docs/privacy-sandbox/attribution-reporting-migration/" is="contexter-link" target="_blank" class="read-link archive-link" itemprop="archivedAt" slot="archive-link">Archived</a></contexter-box>
                                </textarea><br />
                                <button onclick="(function(e){ navigator.clipboard.writeText(document.getElementById('html-embed').value); })()">Copy</button>
                            </div>
                            
                            <script>window.contexterSetup=window.contexterSetup||function(){window.contexterSetupComplete=!0;class ContexterLink extends HTMLAnchorElement{constructor(){super()}connectedCallback(){this.setAttribute("target","_blank")}}customElements.define("contexter-link",ContexterLink,{extends:"a"}),customElements.define("contexter-inner",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className="contexter-box__inner"}}),customElements.define("contexter-thumbnail",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className="contexter-box__thumbnail"}}),customElements.define("contexter-byline",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className="contexter-box__byline"}}),customElements.define("contexter-keywordset",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className="contexter-box__keywordset"}}),customElements.define("contexter-linkset",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className="contexter-box__linkset"}}),customElements.define("contexter-meta",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className="contexter-box__meta"}}),customElements.define("contexter-summary",class extends HTMLElement{constructor(){super()}attributeChangedCallback(name,oldValue,newValue){}connectedCallback(){this.className="p-summary entry-summary"}}),customElements.define("contexter-box-head",class extends HTMLElement{constructor(){super()}connectedCallback(){this.className="contexter-box__head"}}),customElements.define("contexter-box-inner",class extends HTMLElement{constructor(){super()}connectedCallback(){}});class ContexterBox extends HTMLElement{constructor(){super(),this.first=!0,this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){if(this.first){this.first=!1;var style=document.createElement("style"),lightDomStyle=(style.innerHTML=`:host {--background: #f5f6f7;--border: darkblue;--blue: #0000ee;--font-color: black;--inner-border: black;font-family: Franklin,Arial,Helvetica,sans-serif;font-size: 14px;background: var(--background);width: 600px;color: var(--font-color);min-height: 90px;display: block;padding: 8px;border: 1px solid var(--border);cursor: pointer;box-sizing: border-box;margin: 6px;contain: content;margin: 6px auto;}// can only select top-level nodes with slotted::slotted(*) {max-width: 100%;display:block;}::slotted([slot=thumbnail]) {max-width: 100%;display:block;}::slotted([slot=header]) {width: 100%;font-size: 1.25rem;font-weight: bold;display:block;margin-bottom: 6px;}::slotted([slot=author]) {max-width: 50%;font-size: 12px;display:inline-block;float: left;}::slotted([slot=time]) {max-width: 50%;font-size: 12px;display:inline-block;float: right;}::slotted([slot=summary]) {width: 100%;margin-top: 6px;padding: 10px 2px;border-top: 1px solid var(--inner-border);font-size: 15px;display:inline-block;margin-bottom: 6px;}contexter-meta {height: auto;margin-bottom: 4px;width: 100%;display: grid;position: relative;min-height: 16px;grid-template-columns: repeat(2, 1fr);}::slotted([slot=keywords]) {width: 80%;padding: 2px 4px;border-top: 1px solid var(--inner-border);font-size: 11px;display: block;float: right;font-style: italic;text-align: right;grid-column: 2/2;grid-row: 1;align-self: end;justify-self: end;}::slotted([slot=keywords]):empty {border-top: 0px solid var(--inner-border);}::slotted([slot=archive-link]) {font-size: 1em;display: inline;}::slotted([slot=archive-link])::after {content: "|";display: inline;color: var(--font-color);text-decoration: none;margin: 0 .5em;}::slotted([slot=read-link]) {font-size: 1em;display: inline;}contexter-linkset {width: 80%;padding: 2px 4px;font-size: 13px;float: left;font-weight: bold;grid-row: 1;grid-column: 1/2;align-self: end;justify-self: start;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {:host {width: 310px;}}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){:host {--background: #354150;--border: #1f2b37;--blue: #55b0ff;--font-color: #ffffff;--inner-border: #787a7c;background: var(--background);border: 1px solid var(--border)}}`,document.createElement("style"));lightDomStyle.innerHTML=`contexter-box {contain: content;}contexter-box .read-link {font-weight: bold;}contexter-box a {color: #0000ee;}contexter-box img {width: 100%;border: 0;padding: 0;margin: 0;}/* Extra small devices (phones, 600px and down) */@media only screen and (max-width: 600px) {...}/* Small devices (portrait tablets and large phones, 600px and up) */@media only screen and (min-width: 600px) {...}/* Medium devices (landscape tablets, 768px and up) */@media only screen and (min-width: 768px) {...}/* Large devices (laptops/desktops, 992px and up) */@media only screen and (min-width: 992px) {...}/* Extra large devices (large laptops and desktops, 1200px and up) */@media only screen and (min-width: 1200px) {...}@media (prefers-color-scheme: dark){contexter-box a {color: #55b0ff;}}`,this.appendChild(lightDomStyle),this.shadow.appendChild(style);const innerContainer=document.createElement("contexter-box-inner"),innerSlotThumbnail=(this.shadow.appendChild(innerContainer),document.createElement("slot")),innerSlotHeader=(innerSlotThumbnail.name="thumbnail",innerContainer.appendChild(innerSlotThumbnail),document.createElement("slot")),innerSlotAuthor=(innerSlotHeader.name="header",innerContainer.appendChild(innerSlotHeader),document.createElement("slot")),innerSlotTime=(innerSlotAuthor.name="author",innerContainer.appendChild(innerSlotAuthor),document.createElement("slot")),innerSlotSummary=(innerSlotTime.name="time",innerContainer.appendChild(innerSlotTime),document.createElement("slot")),metaContainer=(innerSlotSummary.name="summary",innerContainer.appendChild(innerSlotSummary),document.createElement("contexter-meta")),innerSlotInfo=(innerContainer.appendChild(metaContainer),document.createElement("slot")),linkContainer=(innerSlotInfo.name="keywords",metaContainer.appendChild(innerSlotInfo),document.createElement("contexter-linkset")),innerSlotArchiveLink=(metaContainer.appendChild(linkContainer),document.createElement("slot")),innerSlotReadLink=(innerSlotArchiveLink.name="archive-link",linkContainer.appendChild(innerSlotArchiveLink),document.createElement("slot"));innerSlotReadLink.name="read-link",linkContainer.appendChild(innerSlotReadLink),this.className="contexter-box",this.onclick=e=>{if(!e.target.className.includes("read-link")&&!e.target.className.includes("title-link")){const mainLinks=this.querySelectorAll("a.main-link");mainLinks[0].click()}}}}}customElements.define("contexter-box",ContexterBox)},window.contexterSetupComplete||window.contexterSetup();</script><contexter-box class="link-card h-entry hentry" itemscope="" itemtype="https://schema.org/CreativeWork"><contexter-thumbnail class="thumbnail" slot="thumbnail"></contexter-thumbnail><contexter-box-head slot="header" class="p-name entry-title" itemprop="headline"><contexter-box-head slot="header" class="p-name entry-title" itemprop="headline"><a is="contexter-link" href="https://developer.chrome.com/docs/privacy-sandbox/attribution-reporting-migration/" itemprop="url">[Obsolete] Migration guide (Chrome 92): Conversion Measurement API to Attribution Reporting API - Chrome Developers</a></contexter-box-head></contexter-box-head><time class="dt-published published" slot="time" itemprop="datePublished" datetime="2022-04-05T17:38:42.511Z">3/5/2022</time><contexter-summary class="p-summary entry-summary" itemprop="abstract" slot="summary"><p>Build the next generation of web experiences.</p></contexter-summary><contexter-keywordset itemprop="keywords" slot="keywords"></contexter-keywordset><a is="contexter-link" href="https://developer.chrome.com/docs/privacy-sandbox/attribution-reporting-migration/" class="read-link main-link" itemprop="sameAs" slot="read-link">Read</a><a href="https://context.center/timegate/https://developer.chrome.com/docs/privacy-sandbox/attribution-reporting-migration/" is="contexter-link" target="_blank" class="read-link archive-link" itemprop="archivedAt" slot="archive-link">Archived</a></contexter-box>
                            


                </header>
                <main>
                
                    <div id="readability-page-1" class="page"><div><p>The Conversion Measurement API is changing in Chrome 92.</p><p>Published on <time>Tuesday, June 22, 2021</time> <span>•</span> Updated on <time>Tuesday, June 22, 2021</time></p><p>Translated to: <a href="/es/docs/privacy-sandbox/attribution-reporting-migration/" lang="es" translate="no">Español</a>, <a href="/pt/docs/privacy-sandbox/attribution-reporting-migration/" lang="pt" translate="no">Português</a>, <a href="/ko/docs/privacy-sandbox/attribution-reporting-migration/" lang="ko" translate="no">한국어</a>, <a href="/zh/docs/privacy-sandbox/attribution-reporting-migration/" lang="zh" translate="no">中文</a>, <a href="/ru/docs/privacy-sandbox/attribution-reporting-migration/" lang="ru" translate="no">Pусский</a>, <a href="/ja/docs/privacy-sandbox/attribution-reporting-migration/" lang="ja" translate="no">日本語</a>, <a href="/fr/docs/privacy-sandbox/attribution-reporting-migration/" lang="fr" translate="no">Français</a>, <a href="/de/docs/privacy-sandbox/attribution-reporting-migration/" lang="de" translate="no">Deutsch</a></p></div><div><p>If you have questions or need support during your migration, join the <a href="https://groups.google.com/u/1/a/chromium.org/g/attribution-reporting-api-dev">mailing list</a> and ask your question.</p><h2 id="whats-changing" tabindex="-1"> What's changing?</h2><p>Following the <a href="https://github.com/WICG/conversion-measurement-api">API proposal</a>'s changes in the first months of 2021, the API implementation in Chrome is evolving. Here's what changing:</p><ul><li>The API name, and the feature policy name.</li><li>The HTML attribute names and <code>.well-known</code> URLs.</li><li>The format of the reports. Reports are now sent as JSON in the request body.</li><li>The content of the reports: <code>credit</code> has been removed, along with reports that would have had 0 credit.</li></ul><p>What remains unchanged in Chrome 92 is the set of supported features: event-level reports, for clicks only. <strong>Expect updates on this</strong>. After this change, other updates and features will be released in future Chrome versions.</p><p>To receive updates on the origin trial for this API and upcoming features, subscribe to the <a href="https://groups.google.com/u/1/a/chromium.org/g/attribution-reporting-api-dev">mailing list</a>.</p><h2 id="when-do-these-changes-take-effect" tabindex="-1"> When do these changes take effect?</h2><p>These changes take effect starting from <a href="https://chromestatus.com/features/schedule">Chrome 92</a>, stable on July 20th 2021. Chrome 92 beta was released on June 3rd 2021.</p><h2 id="what-should-you-do" tabindex="-1"> What should you do?</h2><p>There are more changes to the API coming in future versions. They will use the new naming adopted in Chrome 92.</p><p>If you're running an origin trial or have implemented a demo for this API, you have two options:</p><ul><li><strong>Option 1 (recommended)</strong>: migrate your code now or in the following weeks, ideally before mid-July 2021. This way, your codebase will be ready for future changes and will keep working for newer Chrome clients.</li><li><strong>Option 2</strong>: Wait for more updates and features to be released in future Chrome versions, and make all necessary code changes at once.</li></ul><h2 id="migrate" tabindex="-1"> Migrate</h2><h3 id="example-migration" tabindex="-1"> Example migration</h3><p>You can see a migration example for a small demo app in this <a href="https://github.com/GoogleChromeLabs/trust-safety-demo/pull/4/files">pull request (draft)</a>.</p><h3 id="update-your-feature-policy-code" tabindex="-1"> Update your feature policy code</h3><table><thead><tr><th>Legacy code</th><th>New code</th></tr></thead><tbody><tr><td><code>allow='conversion-measurement'</code></td><td><code>allow='attribution-reporting'</code></td></tr></tbody></table><h3 id="update-your-feature-detection-code" tabindex="-1"> Update your feature detection code</h3><table><thead><tr><th>Legacy code</th><th>New code</th></tr></thead><tbody><tr><td><code>document.featurePolicy.features()<br>.includes('conversion-measurement')</code></td><td><code>document.featurePolicy.features()<br>.includes('attribution-reporting')</code></td></tr></tbody></table><h3 id="update-the-html-attributes" tabindex="-1"> Update the HTML attributes</h3><table><thead><tr><th>Legacy code</th><th>New code</th></tr></thead><tbody><tr><td><code>conversiondestination</code></td><td><code>attributiondestination</code></td></tr><tr><td><code>impressiondata</code></td><td><code>attributionsourceeventid</code></td></tr><tr><td><code>impressionexpiry</code></td><td><code>attributionexpiry</code></td></tr><tr><td><code>reportingorigin</code></td><td><code>attributionreportto</code></td></tr></tbody></table><h3 id="update-windowopen-arguments" tabindex="-1"> Update <code>window.open()</code> arguments</h3><p>An attribution source can be registered for navigations initiated by <code>window.open()</code>. Update these calls if you're using <code>window.open()</code> to register attribution sources.</p><p>Your new code should look as follows (this renaming follows the <a href="#update-the-html-attributes">HTML attributes renaming</a>):</p><pre><code>window<span>.</span><span>open</span><span>(</span><br>  <span>'https://dest.example'</span><span>,</span><br>  <span>'_blank'</span><span>,</span><br>  <span>'attributionsourceeventid=1234,attributiondestination=https://dest.example,attributionreportto=https://reporter.example,attributionexpiry=604800000'</span><br><span>)</span><span>;</span></code></pre><h3 id="update-your-registration-call-url-and-parameter" tabindex="-1"> Update your registration call URL and parameter</h3><table><thead><tr><th>Legacy code</th><th>New code</th></tr></thead><tbody><tr><td><code>.well-known/register-conversion?conversion-data={DATA}</code></td><td><code>.well-known/attribution-reporting/trigger-attribution?trigger-data={DATA}</code></td></tr></tbody></table><h3 id="update-your-reporting-endpoint-code" tabindex="-1"> Update your reporting endpoint code</h3><table><thead><tr><th></th><th>Legacy code</th><th>New code</th></tr></thead><tbody><tr><td>Requests to expect from the browser</td><td><code>.well-known/register-conversion?impression-data=&amp;conversion-data={DATA}&amp;attribution-credit=100</code></td><td><code>.well-known/attribution-reporting/trigger-attribution</code></td></tr><tr><td>Incoming reports</td><td>Sent as URL parameters.</td><td>Sent as JSON in the request body.<p>The report data is included <strong>in the request body as a JSON object</strong> with the following keys:<br><code>source_event_id</code>: formerly <code>impression-data</code>, the 64-bit event id set on the attribution source.<br><code>trigger_data</code>: formerly <code>conversion-data</code>, the 3-bit data set in the attribution trigger redirect.</p><p>⚠️ <code>credit</code> has been removed.</p></td></tr></tbody></table><h2 id="attribution-reporting-all-resources" tabindex="-1"> Attribution Reporting: all resources</h2><p>See <a href="/docs/privacy-sandbox/attribution-reporting-introduction/">Attribution Reporting</a>.</p></div></div>
                
                </main>
                <footer>

                </footer>
            </div>
            <!--[if !IE]><script>fixScale(document);</script><![endif]-->
        </body>
    </html>
